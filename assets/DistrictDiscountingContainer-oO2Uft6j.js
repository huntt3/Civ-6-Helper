import{j as e,r as u,C as S}from"./Footer-BW5DPU7p.js";const y=["Campus","Theater Square","Holy Site","Encampment","Commercial Hub","Harbor","Industrial Zone","Preserve","Entertainment Complex","Water Park","Aerodrome","Government Plaza","Diplomatic Quarter"],w=77,D=61,I=t=>{const r=t.replace(/\s+/g,"");return r.charAt(0).toLowerCase()+r.slice(1)},P=({title:t,discounted:r=!1,techsCompleted:c=0,civicsCompleted:n=0,researched:s,setResearched:m,numberBuilt:i,setNumberBuilt:d,numSpecialtyDistrictsCompleted:b=0,numSpecialtyDistrictsUnlocked:a=0})=>{const p=I(t);let o=54;(t==="Government Plaza"||t==="Diplomatic Quarter")&&(o=30);let x=(1+9*Math.max(Number(c)/w||0,Number(n)/D||0))*o,g="-";x>0&&(t==="Government Plaza"?g=Math.round(x*.75):g=Math.round(x*.6));const j=b>=a&&a>0;let f=!1;a>0&&(f=i<b/a);const N=j&&f;return e.jsxs("article",{className:"bg-white rounded-md shadow-lg min-w-[400px] flex flex-row items-center m-2 border border-gray-200 p-2","aria-label":`${t} card`,children:[e.jsx("div",{className:"flex items-center justify-center rounded-sm mr-4","aria-label":`${t} image`,tabIndex:"0",style:{minWidth:"70px"},children:e.jsx("img",{src:`./districtImg/${p}.webp`,alt:`${t} district`,className:"w-16 h-16 object-contain",onError:h=>{h.target.style.display="none",h.target.parentNode.textContent="No image available"}})}),e.jsxs("div",{className:"flex flex-col items-center mr-4",children:[e.jsx("label",{htmlFor:`${t}-researched`,className:"text-xs font-semibold mb-1",children:"Researched"}),e.jsx("input",{id:`${t}-researched`,type:"checkbox",checked:s,onChange:h=>m(h.target.checked),className:"w-5 h-5 accent-green-600"})]}),e.jsxs("div",{className:"flex flex-col items-start mr-4",children:[e.jsx("label",{htmlFor:`${t}-input`,className:"text-xs font-semibold mb-1",children:"Number Built"}),e.jsx("input",{id:`${t}-input`,type:"number",min:"0",step:"1",inputMode:"numeric",pattern:"[0-9]+",placeholder:"Number Built","aria-label":`Input for number of ${t} built`,className:"p-2 rounded-sm border border-gray-300 text-base w-24",value:i,onChange:h=>d(Math.max(0,parseInt(h.target.value)||0)),disabled:!s})]}),e.jsxs("div",{className:"flex flex-col items-start mr-4 min-w-[110px]",children:[e.jsx("span",{className:`font-bold ${s?N?"text-green-600":"text-red-600":"text-gray-500"}`,children:s?N?"Discounted":"Not Discounted":"Not Researched"}),e.jsxs("div",{className:"flex flex-col gap-1 mt-2",children:[e.jsxs("label",{className:"flex items-center gap-1 text-xs",children:[e.jsx("input",{type:"checkbox",checked:j,readOnly:!0,disabled:!0,className:"w-3 h-3"}),"Completed ≥ Unlocked"]}),e.jsxs("label",{className:"flex items-center gap-1 text-xs",children:[e.jsx("input",{type:"checkbox",checked:f,readOnly:!0,disabled:!0,className:"w-3 h-3"}),"Built < Completed/Unlocked"]})]})]}),e.jsxs("div",{className:"flex flex-col items-start mr-4",children:[e.jsx("label",{className:"text-xs font-semibold mb-1",children:"Production Cost"}),e.jsx("span",{className:"p-2 rounded-sm border border-gray-300 text-base w-24 bg-gray-50",children:x>0?Math.round(x):"-"})]}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("label",{className:"text-xs font-semibold mb-1",children:"Discounted Production Cost"}),e.jsx("span",{className:"p-2 rounded-sm border border-gray-300 text-base w-24 bg-gray-50",children:g})]})]})},E=({techsCompleted:t=0,civicsCompleted:r=0,researchedStates:c,setResearchedStates:n,numberBuiltStates:s,setNumberBuiltStates:m,numSpecialtyDistrictsCompleted:i=0,numSpecialtyDistrictsUnlocked:d=0})=>e.jsx("main",{className:"flex flex-wrap gap-6 justify-center p-8","aria-label":"District cards",children:y.map((b,a)=>e.jsx(P,{title:b,discounted:!1,techsCompleted:t,civicsCompleted:r,researched:c[a],setResearched:p=>{const o=[...c];o[a]=p,n(o)},numberBuilt:s[a],setNumberBuilt:p=>{const o=[...s];o[a]=p,m(o)},numSpecialtyDistrictsCompleted:i,numSpecialtyDistrictsUnlocked:d},b))}),T=({numSpecialtyDistrictsCompleted:t=0,numSpecialtyDistrictsUnlocked:r=0})=>e.jsxs("section",{className:"flex flex-row gap-8 items-center mb-6",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("label",{className:"text-sm font-semibold mb-1 w-24 leading-tight",children:"Total Specialty Districts Completed"}),e.jsx("div",{className:"p-2 rounded-sm border border-gray-300 text-base w-24",children:t})]}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("label",{className:"text-sm font-semibold mb-1 w-24 leading-tight",children:"Total Specialty Districts Unlocked"}),e.jsx("div",{className:"p-2 rounded-sm border border-gray-300 text-base w-24",children:r})]})]}),$=77,k=61,M=({techsCompleted:t,setTechsCompleted:r,civicsCompleted:c,setCivicsCompleted:n})=>e.jsxs("section",{className:"flex flex-row gap-8 items-center mb-6",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("label",{htmlFor:"techs-completed",className:"text-sm font-semibold mb-1 w-24 leading-tight break-words whitespace-normal",children:"Techs Completed"}),e.jsx("input",{id:"techs-completed",type:"number",min:"0",max:$,step:"1",inputMode:"numeric",pattern:"[0-9]+",value:t,onChange:s=>r(Math.max(0,parseInt(s.target.value)||0)),className:"p-2 rounded-sm border border-gray-300 text-base w-24"})]}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("label",{htmlFor:"civics-completed",className:"text-sm font-semibold mb-1 w-24 leading-tight break-words whitespace-normal",children:"Civics Completed"}),e.jsx("input",{id:"civics-completed",type:"number",min:"0",max:k,step:"1",inputMode:"numeric",pattern:"[0-9]+",value:c,onChange:s=>n(Math.max(0,parseInt(s.target.value)||0)),className:"p-2 rounded-sm border border-gray-300 text-base w-24"})]})]}),R=({})=>e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl shadow-md border border-blue-200",children:[e.jsxs("div",{className:"mb-4 text-lg font-semibold text-blue-900",children:["Districts are discounted when ",e.jsx("span",{className:"underline",children:"both"})," of the following conditions are met:"]}),e.jsxs("ul",{className:"list-disc pl-6 space-y-4",children:[e.jsx("li",{children:e.jsxs("div",{className:"flex flex-row items-center gap-2 text-xl",children:[e.jsx("span",{className:"font-mono font-bold text-blue-900",children:"Specialty Districts Completed"}),e.jsx("span",{className:"mx-2 text-2xl font-bold text-blue-700",children:"≥"}),e.jsx("span",{className:"font-mono font-bold text-blue-900",children:"Specialty Districts Unlocked"})]})}),e.jsx("li",{children:e.jsxs("div",{className:"flex flex-row items-center gap-2 text-xl",children:[e.jsx("span",{className:"font-mono font-bold text-blue-900",children:"Districts of Type Completed or Placed"}),e.jsx("span",{className:"mx-2 text-2xl font-bold text-blue-700",children:"<"}),e.jsxs("span",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"font-mono font-bold text-blue-900 border-b-2 border-blue-700 px-2 pb-1",children:"Specialty Districts Completed"}),e.jsx("span",{className:"font-mono font-bold text-blue-900 px-2 pt-1",children:"Specialty Districts Unlocked"})]})]})})]})]}),A=77,B=61,F=({techsCompleted:t=0,civicsCompleted:r=0})=>{const c=Number(t)/A*100,n=Number(r)/B*100,s=c.toFixed(2),m=n.toFixed(2),i=s===m,d=c>n;return e.jsxs("section",{className:"flex flex-row gap-8 items-center mb-6",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("label",{className:"text-sm font-semibold mb-1",children:"Percentage of Techs Completed"}),e.jsxs("div",{className:`text-base ${i||d?"text-green-600 font-bold text-xl":"text-gray-700"}`,children:[s,"%"]})]}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("label",{className:"text-sm font-semibold mb-1",children:"Percentage of Civics Completed"}),e.jsxs("div",{className:`text-base ${i||!d?"text-green-600 font-bold text-xl":"text-gray-700"}`,children:[m,"%"]})]})]})},_=()=>{const[t,r]=u.useState(()=>{const l=localStorage.getItem("civ6-helper-district-collapsed");return l?JSON.parse(l):!0}),c="districtDiscounting_techsCompleted",n="districtDiscounting_civicsCompleted",s="districtDiscounting_researchedStates",m="districtDiscounting_numberBuiltStates",i=14,[d,b]=u.useState(()=>{const l=localStorage.getItem(c);return l!==null?Number(l):0}),[a,p]=u.useState(()=>{const l=localStorage.getItem(n);return l!==null?Number(l):0}),[o,v]=u.useState(()=>{const l=localStorage.getItem(s);return l?JSON.parse(l):Array(i).fill(!1)}),[x,g]=u.useState(()=>{const l=localStorage.getItem(m);return l?JSON.parse(l):Array(i).fill(0)});u.useEffect(()=>{localStorage.setItem(c,d)},[d]),u.useEffect(()=>{localStorage.setItem(n,a)},[a]),u.useEffect(()=>{localStorage.setItem(s,JSON.stringify(o))},[o]),u.useEffect(()=>{localStorage.setItem(m,JSON.stringify(x))},[x]),u.useEffect(()=>{localStorage.setItem("civ6-helper-district-collapsed",JSON.stringify(t))},[t]);const j=()=>{localStorage.removeItem(c),localStorage.removeItem(n),localStorage.removeItem(s),localStorage.removeItem(m),localStorage.removeItem("civ6-helper-district-collapsed"),b(0),p(0),v(Array(i).fill(!1)),g(Array(i).fill(0)),r(!0)},f=x.reduce((l,C)=>l+C,0),N=o.filter(Boolean).length,h=()=>{r(l=>!l)};return e.jsxs(S,{title:"District Discount Tracker",collapsed:t,onCollapse:h,onRefresh:j,ariaLabel:"District Discounting Tool",children:[e.jsx("div",{className:"mb-6",children:e.jsx(R,{numSpecialtyDistrictsCompleted:f,numSpecialtyDistrictsUnlocked:N})}),e.jsx("div",{className:"flex justify-center w-full",children:e.jsx(T,{numSpecialtyDistrictsCompleted:f,numSpecialtyDistrictsUnlocked:N})}),e.jsx("div",{className:"flex justify-center w-full",children:e.jsx(M,{techsCompleted:d,setTechsCompleted:b,civicsCompleted:a,setCivicsCompleted:p})}),e.jsx("div",{className:"flex justify-center w-full",children:e.jsx(F,{techsCompleted:d,civicsCompleted:a})}),e.jsx(E,{techsCompleted:d,civicsCompleted:a,researchedStates:o,setResearchedStates:v,numberBuiltStates:x,setNumberBuiltStates:g,numSpecialtyDistrictsCompleted:f,numSpecialtyDistrictsUnlocked:N})]})};export{_ as D};
