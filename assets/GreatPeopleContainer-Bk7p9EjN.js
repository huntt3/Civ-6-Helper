import{r as l,j as r,C as G,a as P}from"./Footer-BW5DPU7p.js";const k=(s,i,d)=>s.filter(o=>!o||!o.type||!o.era?!1:o.era===i&&o.type===d),v=["Great General","Great Admiral","Great Engineer","Great Merchant","Great Scientist"],N=["Classical","Medieval","Renaissance","Industrial","Modern","Atomic","Information"],C=s=>{switch(s){case"Great General":return{header:"bg-red-500 text-white",card:"bg-red-50 border-red-300",cardHover:"hover:bg-red-100",cardChecked:"bg-red-200 border-red-600"};case"Great Admiral":return{header:"bg-teal-500 text-white",card:"bg-teal-50 border-teal-300",cardHover:"hover:bg-teal-100",cardChecked:"bg-teal-200 border-teal-600"};case"Great Engineer":return{header:"bg-orange-500 text-white",card:"bg-orange-50 border-orange-300",cardHover:"hover:bg-orange-100",cardChecked:"bg-orange-200 border-orange-600"};case"Great Merchant":return{header:"bg-yellow-500 text-white",card:"bg-yellow-50 border-yellow-300",cardHover:"hover:bg-yellow-100",cardChecked:"bg-yellow-200 border-yellow-600"};case"Great Scientist":return{header:"bg-blue-500 text-white",card:"bg-blue-50 border-blue-300",cardHover:"hover:bg-blue-100",cardChecked:"bg-blue-200 border-blue-600"};default:return{header:"bg-gray-100 text-gray-800",card:"bg-gray-50 border-gray-300",cardHover:"hover:bg-blue-50",cardChecked:"bg-blue-100 border-blue-600"}}},I=()=>{const[s,i]=l.useState([]),[d,o]=l.useState(""),y={Medieval:!0,Renaissance:!0,Industrial:!0,Modern:!0,Atomic:!0,Information:!0},[c,b]=l.useState(()=>{const e=localStorage.getItem("civ6-helper-greatPeople-collapsedEras");return e?JSON.parse(e):y}),[n,m]=l.useState(()=>{const e=localStorage.getItem("greatPeopleChecked");return e?JSON.parse(e):{}}),[g,p]=l.useState(()=>{const e=localStorage.getItem("civ6-helper-greatPeople-collapsed");return e?JSON.parse(e):!0});l.useEffect(()=>{fetch("./jsonFiles/GreatPeople.json").then(e=>{if(!e.ok)throw new Error("Could not load Great People data.");return e.json()}).then(e=>{i(e.GreatPeople)}).catch(e=>{o("Sorry, we couldn't load the Great People data. Please try again later.")})},[]),l.useEffect(()=>{localStorage.setItem("greatPeopleChecked",JSON.stringify(n))},[n]),l.useEffect(()=>{localStorage.setItem("civ6-helper-greatPeople-collapsedEras",JSON.stringify(c))},[c]),l.useEffect(()=>{localStorage.setItem("civ6-helper-greatPeople-collapsed",JSON.stringify(g))},[g]);const w=e=>{b(a=>({...a,[e]:!a[e]}))},x=e=>{m(a=>({...a,[e]:!a[e]}))},S=()=>{const e={Medieval:!0,Renaissance:!0,Industrial:!0,Modern:!0,Atomic:!0,Information:!0};m({}),b(e),p(!0),localStorage.removeItem("greatPeopleChecked"),localStorage.removeItem("civ6-helper-greatPeople-collapsedEras"),localStorage.removeItem("civ6-helper-greatPeople-collapsed")},j=()=>p(e=>!e);return r.jsxs(G,{title:"Great People Tracker",className:"my-8 mx-auto p-4 max-w-full bg-white text-gray-900 rounded-lg shadow-md",collapsed:g,onCollapse:j,onRefresh:S,children:[d&&r.jsx("p",{className:"text-red-600 text-center mb-4",children:d}),r.jsxs("div",{className:"flex flex-col gap-2",role:"table","aria-label":"Great People Table",children:[r.jsx("div",{className:"grid grid-cols-5 gap-2",role:"row",children:v.map(e=>{const a=C(e);return r.jsx("div",{className:`font-bold text-center py-2 rounded ${a.header}`,role:"columnheader",children:e},e)})}),N.map(e=>r.jsxs(P.Fragment,{children:[r.jsxs("div",{className:"font-bold text-base bg-gray-100 px-4 py-2 rounded mb-1 flex items-center gap-2","aria-label":`Row for ${e} era`,children:[r.jsx("button",{className:"bg-blue-600 text-white border-none rounded px-3 py-1 text-base cursor-pointer transition-colors duration-200 mr-2 hover:bg-blue-700 focus:bg-blue-700 focus:outline-none","aria-expanded":!c[e],"aria-controls":`era-row-${e}`,onClick:()=>w(e),children:c[e]?"Show":"Hide"}),r.jsx("span",{children:e})]}),!c[e]&&r.jsx("div",{className:"grid grid-cols-5 gap-2",role:"row",id:`era-row-${e}`,children:v.map(a=>{const h=k(s,e,a),u=C(a);return r.jsx("div",{className:"min-h-[80px] flex flex-col items-center justify-start bg-white text-gray-800 rounded shadow p-1",role:"cell",children:h.length>0?h.map(t=>r.jsxs("article",{className:`transition-colors duration-200 border rounded w-full box-border text-sm p-2 mb-1 cursor-pointer ${n[t.name]?`${u.cardChecked} filter brightness-90`:`${u.card} ${u.cardHover} hover:shadow-md`}`,tabIndex:0,"aria-label":`${t.name}, ${t.ability}`,role:"button","aria-pressed":!!n[t.name],onClick:()=>x(t.name),onKeyDown:f=>{(f.key==="Enter"||f.key===" ")&&x(t.name)},children:[r.jsx("span",{className:"font-bold",children:t.name}),r.jsx("p",{children:t.ability}),t.charges&&r.jsxs("p",{children:[r.jsx("strong",{children:"Charges:"})," ",t.charges]})]},t.name)):r.jsx("div",{className:"text-gray-400 text-center py-2","aria-label":"No Great Person",children:"-"})},a)})})]},e))]})]})};export{I as G};
